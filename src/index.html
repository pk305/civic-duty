<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Government Petition Email Composer</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2rem;
        margin-bottom: 10px;
      }

      .header p {
        opacity: 0.9;
        font-size: 1.1rem;
      }

      .form-section {
        padding: 30px;
      }

      .step {
        margin-bottom: 40px;
        border-left: 4px solid #667eea;
        padding-left: 20px;
      }

      .step-header {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      }

      .step-number {
        background: #667eea;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 15px;
      }

      .step-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: #333;
      }

      .checkbox-group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-top: 15px;
      }

      .checkbox-item {
        display: flex;
        align-items: center;
        padding: 15px;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .checkbox-item:hover {
        border-color: #667eea;
        background: #f8f9ff;
      }

      .checkbox-item.selected {
        border-color: #667eea;
        background: #f8f9ff;
      }

      .checkbox-item input {
        margin-right: 12px;
        width: 18px;
        height: 18px;
      }

      .checkbox-item label {
        cursor: pointer;
        font-weight: 500;
        color: #444;
      }

      .input-group {
        margin-bottom: 20px;
      }

      .input-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #555;
      }

      .input-group input,
      .input-group textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s ease;
      }

      .input-group input:focus,
      .input-group textarea:focus {
        outline: none;
        border-color: #667eea;
      }

      .email-template {
        background: #f8f9fa;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        padding: 20px;
        font-family: "Courier New", monospace;
        font-size: 14px;
        line-height: 1.6;
        height: 300px;
        resize: vertical;
      }

      .send-section {
        background: #f8f9fa;
        padding: 30px;
        text-align: center;
        border-top: 1px solid #e1e5e9;
      }

      .send-button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }

      .send-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
      }

      .send-button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .info-box {
        background: #e3f2fd;
        border: 1px solid #bbdefb;
        border-radius: 8px;
        padding: 15px;
        margin-top: 20px;
        color: #1565c0;
      }

      .preview-section {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
      }

      .preview-header {
        font-weight: 600;
        margin-bottom: 15px;
        color: #333;
        border-bottom: 2px solid #667eea;
        padding-bottom: 10px;
      }

      .email-preview {
        background: white;
        border: 1px solid #ddd;
        border-radius: 6px;
        padding: 20px;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
      }

      .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4caf50;
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transform: translateX(400px);
        transition: transform 0.3s ease;
        z-index: 1000;
      }

      .toast.show {
        transform: translateX(0);
      }

      @media (max-width: 768px) {
        .container {
          margin: 10px;
        }

        .checkbox-group {
          grid-template-columns: 1fr;
        }

        .form-section {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ðŸš« OBJECTION TO THE FINANCE BILL 2025</h1>
        <h2 style="font-size: 1.2rem; margin: 10px 0; opacity: 0.95">
          (NATIONAL ASSEMBLY BILLS NO. 19 OF 2025)
        </h2>
        <p>
          The 2025 Finance Bill proposed the deletion of Section 59A(1B) in the
          Tax Procedures Act, which prohibits KRA from accessing Mpesa Personal
          Data. Submit your Memoranda
        </p>
      </div>

      <div class="form-section">
        <!-- Step 1: Choose Recipients -->
        <div class="step">
          <div class="step-header">
            <div class="step-number">1</div>
            <div class="step-title">Choose Recipients</div>
          </div>
          <div class="checkbox-group">
            <div class="checkbox-item" onclick="toggleCheckbox('clerk')">
              <input type="checkbox" id="clerk" checked />
              <label for="clerk">Clerk of the National Assembly</label>
            </div>
            <div class="checkbox-item" onclick="toggleCheckbox('finance')">
              <input type="checkbox" id="finance" checked />
              <label for="finance"
                >Finance Committee (Departmental Committee on Finance and
                National Planning)</label
              >
            </div>
            <div class="checkbox-item" onclick="toggleCheckbox('speaker')">
              <input type="checkbox" id="speaker" />
              <label for="speaker">Speaker of the National Assembly</label>
            </div>
            <div class="checkbox-item" onclick="toggleCheckbox('treasury')">
              <input type="checkbox" id="treasury" />
              <label for="treasury"
                >Cabinet Secretary for the National Treasury</label
              >
            </div>
            <div class="checkbox-item" onclick="toggleCheckbox('president')">
              <input type="checkbox" id="president" />
              <label for="president">Office of the President</label>
            </div>
            <div class="checkbox-item" onclick="toggleCheckbox('judiciary')">
              <input type="checkbox" id="judiciary" />
              <label for="judiciary">Chief Justice of Kenya</label>
            </div>
          </div>
        </div>

        <!-- Step 2: Edit Subject Line -->
        <div class="step">
          <div class="step-header">
            <div class="step-number">2</div>
            <div class="step-title">Edit Subject Line</div>
          </div>
          <div class="input-group">
            <label for="subject">Customize the email subject:</label>
            <input
              type="text"
              id="subject"
              value="RE: MEMORANDUM OF OBJECTION TO THE FINANCE BILL 2025 (NATIONAL ASSEMBLY BILLS NO. 19 OF 2025)"
            />
          </div>
        </div>

        <!-- Step 3: Customize Your Email -->
        <div class="step">
          <div class="step-header">
            <div class="step-number">3</div>
            <div class="step-title">Customize Your Email</div>
          </div>
          <div class="input-group">
            <label for="email-content"
              >Feel free to personalize the email template below:</label
            >
            <textarea id="email-content" class="email-template">
Dear Honorable Members,

I write to express my strong objection to the Finance Bill 2025, particularly regarding the proposed deletion of Section 59A(1B) of the Tax Procedures Act.

This section currently prohibits the Kenya Revenue Authority (KRA) from accessing M-Pesa personal data without proper legal procedures. Its removal would:

1. Violate citizens' privacy rights and data protection
2. Grant excessive powers to KRA without adequate oversight
3. Undermine public trust in mobile money services
4. Potentially discourage financial inclusion efforts

The proposed changes represent a dangerous overreach that could harm Kenya's digital economy and violate constitutional rights to privacy. M-Pesa and similar services have been crucial for financial inclusion, and unrestricted government access to this data would undermine citizen confidence.

I therefore call for the withdrawal of this Bill, or at minimum, the retention of Section 59A(1B) to protect citizen privacy and maintain the integrity of our financial systems.

I urge you to reject these provisions for the sake of protecting Kenyan citizens' rights and maintaining trust in our digital financial ecosystem.

Yours Faithfully,

{{Name}} ............................................(SIGN)

Citizen of Kenya</textarea
            >
          </div>

          <div class="input-group">
            <label for="sender-name">Your Full Name:</label>
            <input
              type="text"
              id="sender-name"
              placeholder="Enter your full name"
            />
          </div>

          <div class="input-group">
            <label for="sender-email">Your Email Address:</label>
            <input
              type="email"
              id="sender-email"
              placeholder="your.email@example.com"
            />
          </div>
        </div>

        <!-- Preview Section -->
        <div class="preview-section">
          <div class="preview-header">ðŸ“§ Email Preview</div>
          <div class="email-preview" id="email-preview">
            <div style="margin-bottom: 15px">
              <strong>To:</strong>
              <span id="preview-recipients"
                >The Clerk of the National Assembly, Finance Committee</span
              >
            </div>
            <div style="margin-bottom: 15px">
              <strong>Subject:</strong>
              <span id="preview-subject"
                >RE: MEMORANDUM OF OBJECTION TO THE FINANCE BILL 2025 (NATIONAL
                ASSEMBLY BILLS NO. 19 OF 2025)</span
              >
            </div>
            <div style="border-top: 1px solid #ddd; padding-top: 15px">
              <div id="preview-content">
                Dear Honorable Members,<br /><br />

                I write to express my strong objection to the Finance Bill 2025,
                particularly regarding the proposed deletion of Section 59A(1B)
                of the Tax Procedures Act.<br /><br />

                This section currently prohibits the Kenya Revenue Authority
                (KRA) from accessing M-Pesa personal data without proper legal
                procedures. Its removal would:<br /><br />

                1. Violate citizens' privacy rights and data protection<br />
                2. Grant excessive powers to KRA without adequate oversight<br />
                3. Undermine public trust in mobile money services<br />
                4. Potentially discourage financial inclusion efforts<br /><br />

                The proposed changes represent a dangerous overreach that could
                harm Kenya's digital economy and violate constitutional rights
                to privacy. M-Pesa and similar services have been crucial for
                financial inclusion, and unrestricted government access to this
                data would undermine citizen confidence.<br /><br />

                I therefore call for the withdrawal of this Bill, or at minimum,
                the retention of Section 59A(1B) to protect citizen privacy and
                maintain the integrity of our financial systems.<br /><br />

                I urge you to reject these provisions for the sake of protecting
                Kenyan citizens' rights and maintaining trust in our digital
                financial ecosystem.<br /><br />

                Yours Faithfully,<br /><br />

                <span id="preview-name">[Your Name]</span>
                ............................................(SIGN)<br /><br />

                Citizen of Kenya
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 4: Send Your Email -->
      <div class="send-section">
        <div
          class="step-header"
          style="justify-content: center; margin-bottom: 20px"
        >
          <div class="step-number">4</div>
          <div class="step-title">Send Your Email</div>
        </div>

        <button class="send-button" onclick="sendEmail()">
          ðŸ“¨ Send Email Now
        </button>

        <div class="info-box">
          <strong>ðŸ“‹ Note:</strong> After clicking "Send", your default email
          program will open with this message pre-filled. Simply click send in
          your email client to deliver your message.
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
      // Store recipients data
      const recipients = {
        clerk: {
          name: "Clerk of the National Assembly",
          email: "clerk@parliament.go.ke,cna@parliament.go.ke",
        },
        finance: {
          name: "Finance Committee (Departmental Committee on Finance and National Planning)",
          email: "cna@parliament.go.ke",
        },
        speaker: {
          name: "Speaker of the National Assembly",
          email: "nationalassembly@parliament.go.ke",
        },
        treasury: {
          name: "Cabinet Secretary for the National Treasury",
          email: "cabinetsecretary@treasury.go.ke,pstnt@treasury.go.ke",
        },
        president: {
          name: "Office of the President",
          email: "info@statehouse.go.ke",
        },
        judiciary: {
          name: "Chief Justice of Kenya",
          email: "chiefjustice@court.go.ke,registrarsupremecourt@court.go.ke",
        },
      };

      function toggleCheckbox(id) {
        const checkbox = document.getElementById(id);
        const item = checkbox.closest(".checkbox-item");

        checkbox.checked = !checkbox.checked;

        if (checkbox.checked) {
          item.classList.add("selected");
        } else {
          item.classList.remove("selected");
        }

        updatePreview();
      }

      function updatePreview() {
        // Update recipients
        const selectedRecipients = [];
        Object.keys(recipients).forEach((key) => {
          if (document.getElementById(key).checked) {
            selectedRecipients.push(recipients[key].name);
          }
        });
        document.getElementById("preview-recipients").textContent =
          selectedRecipients.join(", ") || "None selected";

        // Update subject
        const subject = document.getElementById("subject").value;
        document.getElementById("preview-subject").textContent = subject;

        // Update content
        const content = document.getElementById("email-content").value;
        const senderName =
          document.getElementById("sender-name").value || "[Your Name]";

        let formattedContent = content.replace("{{Name}}", senderName);
        formattedContent = formattedContent.replace(/\n/g, "<br>");

        document.getElementById("preview-content").innerHTML = formattedContent;
        document.getElementById("preview-name").textContent = senderName;
      }

      function sendEmail() {
        const selectedEmails = [];
        const selectedNames = [];

        Object.keys(recipients).forEach((key) => {
          if (document.getElementById(key).checked) {
            // Split emails by comma and add all addresses
            const emails = recipients[key].email.split(",");
            selectedEmails.push(...emails);
            selectedNames.push(recipients[key].name);
          }
        });

        console.log(`selectedNames`, selectedNames);
        console.log(`selectedEmails`, selectedEmails);

        // if (selectedEmails.length === 0) {
        //     showToast('Please select at least one recipient', 'error');
        //     return;
        // }

        // const senderName = document.getElementById('sender-name').value;
        // const senderEmail = document.getElementById('sender-email').value;

        // if (!senderName || !senderEmail) {
        //     showToast('Please enter your name and email address', 'error');
        //     return;
        // }

        // const subject = document.getElementById('subject').value;
        // const content = document.getElementById('email-content').value.replace('{{Name}}', senderName);

        // // Create mailto link
        // const emailBody = encodeURIComponent(content);
        // const emailSubject = encodeURIComponent(subject);
        // const emailTo = selectedEmails.join(',');

        // const mailtoLink = `mailto:${emailTo}?subject=${emailSubject}&body=${emailBody}`;

        // // Open email client
        // window.location.href = mailtoLink;

        showToast("Opening your email client...", "success");
      }

      function showToast(message, type = "success") {
        const toast = document.getElementById("toast");
        toast.textContent = message;
        toast.style.background = type === "error" ? "#f44336" : "#4caf50";
        toast.classList.add("show");

        setTimeout(() => {
          toast.classList.remove("show");
        }, 3000);
      }

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        // Set initial selected states
        document
          .querySelectorAll('input[type="checkbox"]:checked')
          .forEach((checkbox) => {
            checkbox.closest(".checkbox-item").classList.add("selected");
          });

        // Add event listeners
        document
          .getElementById("subject")
          .addEventListener("input", updatePreview);
        document
          .getElementById("email-content")
          .addEventListener("input", updatePreview);
        document
          .getElementById("sender-name")
          .addEventListener("input", updatePreview);

        // Initial preview update
        updatePreview();
      });
    </script>
  </body>
</html>
